# 运行环境

## 检测 rails 版本
- `ruby -v` 检查版本
- `rails -v`

## Gemfile

```
# 强制安装到开发环境，防止冲突
group :development do
  gem 'sqlite3', '1.3.7'
end

# 仅安装到生产环境
group :production do
  gem 'pg', '0.15.1'
end

# 安装1.30以上最新版本（跨版本升级）
gem 'uglifier', '>=1.3.0'

# 安装补丁版升级
gem 'coffee-rails', '~> 4.0.0'

# 不会在生产环境中部署
$ bundle install --without production

#结论，最好都指定固定版本，减少环境问题

# 卸载Gem
 gem uninstall gem_name
```

## Git
```
# 强制回滚到上个未提交版本
git checkout -f

# -a 将所有改动，包括重命名都添加进来
git commit -a -m "Improve the README file"
```

## 遇到问题
1. invalid byte sequence in US-ASCII (ArgumentError)
    ```
    #Gemfile 中添加
    if RUBY_VERSION =~ /2.3/ # assuming you're running Ruby ~1.9
      Encoding.default_external = Encoding::UTF_8
      Encoding.default_internal = Encoding::UTF_8
    end
    ```

## gem 插件版本不对
  > 特别是提示  当前 rake 版本高于需要使用的 rake 版本
```
# 查看所有插件
gem list

# 卸载插件
gem uninstall <插件名>

# 选择后卸载
```
